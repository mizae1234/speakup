generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model Submission {
  id            String   @id @default(cuid())
  referenceCode String   @unique @map("reference_code")
  identityMode  String   @map("identity_mode") // anonymous | partial | identified
  nickname      String?
  department    String?
  fullName      String?  @map("full_name")
  contact       String?
  categories    String[]
  message       String
  whenHappened  String?  @map("when_happened")
  relatedTeam   String?  @map("related_team")
  suggestedFix  String?  @map("suggested_fix")
  status        String   @default("new") // new | in_progress | resolved
  createdAt     DateTime @default(now()) @map("created_at")
  updatedAt     DateTime @updatedAt @map("updated_at")

  @@map("submissions")
}
